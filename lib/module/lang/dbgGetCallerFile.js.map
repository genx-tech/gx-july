{"version":3,"names":["dbgGetCallerFile","depth","arguments","length","undefined","originalFunc","Error","prepareStackTrace","callerfile","err","currentfile","currentDepth","stack","shift","getFileName"],"sources":["dbgGetCallerFile.js"],"sourcesContent":["/**\n * Get the nth call file name from callstack\n * @param {integer} depth - the nth depth, 0 means the file call this function, usually depth 1 is most expected result\n * @returns {string} filename\n */\nfunction dbgGetCallerFile(depth = 1) {\n    const originalFunc = Error.prepareStackTrace;\n\n    let callerfile;\n    try {\n        const err = new Error();\n        let currentfile;\n        let currentDepth = 0;\n\n        Error.prepareStackTrace = function (err, stack) {\n            return stack;\n        };\n\n        currentfile = err.stack.shift().getFileName();\n\n        while (err.stack.length) {\n            callerfile = err.stack.shift().getFileName();\n\n            if (currentfile !== callerfile) {\n                currentDepth++;\n                currentfile = callerfile;\n                if (currentDepth > depth) break;\n            }\n        }\n        // eslint-disable-next-line no-empty\n    } finally {\n    }\n\n    Error.prepareStackTrace = originalFunc;\n\n    return callerfile;\n}\n\nexport default dbgGetCallerFile;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,SAASA,gBAAgBA,CAAA,EAAY;EAAA,IAAXC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC/B,MAAMG,YAAY,GAAGC,KAAK,CAACC,iBAAiB;EAE5C,IAAIC,UAAU;EACd,IAAI;IACA,MAAMC,GAAG,GAAG,IAAIH,KAAK,CAAC,CAAC;IACvB,IAAII,WAAW;IACf,IAAIC,YAAY,GAAG,CAAC;IAEpBL,KAAK,CAACC,iBAAiB,GAAG,UAAUE,GAAG,EAAEG,KAAK,EAAE;MAC5C,OAAOA,KAAK;IAChB,CAAC;IAEDF,WAAW,GAAGD,GAAG,CAACG,KAAK,CAACC,KAAK,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAE7C,OAAOL,GAAG,CAACG,KAAK,CAACT,MAAM,EAAE;MACrBK,UAAU,GAAGC,GAAG,CAACG,KAAK,CAACC,KAAK,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MAE5C,IAAIJ,WAAW,KAAKF,UAAU,EAAE;QAC5BG,YAAY,EAAE;QACdD,WAAW,GAAGF,UAAU;QACxB,IAAIG,YAAY,GAAGV,KAAK,EAAE;MAC9B;IACJ;IACA;EACJ,CAAC,SAAS,CACV;EAEAK,KAAK,CAACC,iBAAiB,GAAGF,YAAY;EAEtC,OAAOG,UAAU;AACrB;AAEA,eAAeR,gBAAgB"}