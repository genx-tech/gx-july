{"version":3,"names":["objectToQueryString","queryStringToObject","appendQuery","url","query","posQM","indexOf","base","qs","split","previousObj","newObj","newQs"],"sources":["urlAppendQuery.js"],"sourcesContent":["import objectToQueryString from './urlObjectToQueryString';\nimport queryStringToObject from './urlQueryStringToObject';\n\n/**\n * Merge the query parameters into given url.\n * @function string.urlAppendQuery\n * @param {String} url - Original url.\n * @param {Object} query - Key-value pairs query object to be merged into the url.\n * @returns {String}\n */\nfunction appendQuery(url, query) {\n    if (!query) {\n        return url;\n    }\n\n    const posQM = url.indexOf('?');\n\n    if (posQM === -1) {\n        if (typeof query !== 'string') {\n            query = objectToQueryString(query);\n        }\n\n        return query ? url + '?' + query : url;\n    }\n\n    const [base, qs] = url.split('?', 2);\n    const previousObj = queryStringToObject(qs);\n    const newObj = typeof query === 'string' ? queryStringToObject(query) : query;\n\n    const newQs = objectToQueryString({ ...previousObj, ...newObj });\n\n    return newQs ? base + '?' + newQs : url;\n}\n\nexport default appendQuery;\n"],"mappings":"AAAA,OAAOA,mBAAmB,MAAM,0BAA0B;AAC1D,OAAOC,mBAAmB,MAAM,0BAA0B;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,WAAWA,CAACC,GAAG,EAAEC,KAAK,EAAE;EAC7B,IAAI,CAACA,KAAK,EAAE;IACR,OAAOD,GAAG;EACd;EAEA,MAAME,KAAK,GAAGF,GAAG,CAACG,OAAO,CAAC,GAAG,CAAC;EAE9B,IAAID,KAAK,KAAK,CAAC,CAAC,EAAE;IACd,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;MAC3BA,KAAK,GAAGJ,mBAAmB,CAACI,KAAK,CAAC;IACtC;IAEA,OAAOA,KAAK,GAAGD,GAAG,GAAG,GAAG,GAAGC,KAAK,GAAGD,GAAG;EAC1C;EAEA,MAAM,CAACI,IAAI,EAAEC,EAAE,CAAC,GAAGL,GAAG,CAACM,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC;EACpC,MAAMC,WAAW,GAAGT,mBAAmB,CAACO,EAAE,CAAC;EAC3C,MAAMG,MAAM,GAAG,OAAOP,KAAK,KAAK,QAAQ,GAAGH,mBAAmB,CAACG,KAAK,CAAC,GAAGA,KAAK;EAE7E,MAAMQ,KAAK,GAAGZ,mBAAmB,CAAC;IAAE,GAAGU,WAAW;IAAE,GAAGC;EAAO,CAAC,CAAC;EAEhE,OAAOC,KAAK,GAAGL,IAAI,GAAG,GAAG,GAAGK,KAAK,GAAGT,GAAG;AAC3C;AAEA,eAAeD,WAAW"}