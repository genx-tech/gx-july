{"version":3,"names":["_isPlainObject","_interopRequireDefault","require","obj","__esModule","default","batchAsync_","iterator","Array","isArray","r","l","length","i","push","Promise","all","isPlainObject","keys","values","k","Object","prototype","hasOwnProperty","call","result","reduce","reject","_default","exports","module"],"sources":["batchAsync_.js"],"sourcesContent":["import isPlainObject from '../object/isPlainObject';\n\n/**\n * Walk through each entry of an array of an object parallelly, faster than eachAsync_\n * @alias collection.batchAsync_\n * @async\n * @param {Array|Object} obj\n * @param {asyncIterator} iterator\n * @returns {Promise.<Array|Object>}\n */\nasync function batchAsync_(obj, iterator) {\n    if (Array.isArray(obj)) {\n        const r = [];\n\n        let l = obj.length;\n        for (let i = 0; i < l; i++) {\n            r.push(iterator(obj[i], i, obj));\n        }\n\n        return Promise.all(r);\n    } \n    \n    if (isPlainObject(obj)) {\n        const keys = [];\n        const values = [];\n\n        for (let k in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, k)) {\n                keys.push(k);\n                values.push(iterator(obj[k], k, obj));\n            }\n        }\n\n        const result = await Promise.all(values);\n        return keys.reduce((r, k, i) => {\n            r[k] = result[i];\n            return r;\n        }, {});\n    } \n\n    return Promise.reject('Invalid argument!');\n}\n\nexport default batchAsync_;\n"],"mappings":";;;;;;AAAA,IAAAA,cAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAoD,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAUpD,eAAeG,WAAWA,CAACH,GAAG,EAAEI,QAAQ,EAAE;EACtC,IAAIC,KAAK,CAACC,OAAO,CAACN,GAAG,CAAC,EAAE;IACpB,MAAMO,CAAC,GAAG,EAAE;IAEZ,IAAIC,CAAC,GAAGR,GAAG,CAACS,MAAM;IAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;MACxBH,CAAC,CAACI,IAAI,CAACP,QAAQ,CAACJ,GAAG,CAACU,CAAC,CAAC,EAAEA,CAAC,EAAEV,GAAG,CAAC,CAAC;IACpC;IAEA,OAAOY,OAAO,CAACC,GAAG,CAACN,CAAC,CAAC;EACzB;EAEA,IAAI,IAAAO,sBAAa,EAACd,GAAG,CAAC,EAAE;IACpB,MAAMe,IAAI,GAAG,EAAE;IACf,MAAMC,MAAM,GAAG,EAAE;IAEjB,KAAK,IAAIC,CAAC,IAAIjB,GAAG,EAAE;MACf,IAAIkB,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACrB,GAAG,EAAEiB,CAAC,CAAC,EAAE;QAC9CF,IAAI,CAACJ,IAAI,CAACM,CAAC,CAAC;QACZD,MAAM,CAACL,IAAI,CAACP,QAAQ,CAACJ,GAAG,CAACiB,CAAC,CAAC,EAAEA,CAAC,EAAEjB,GAAG,CAAC,CAAC;MACzC;IACJ;IAEA,MAAMsB,MAAM,GAAG,MAAMV,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;IACxC,OAAOD,IAAI,CAACQ,MAAM,CAAC,CAAChB,CAAC,EAAEU,CAAC,EAAEP,CAAC,KAAK;MAC5BH,CAAC,CAACU,CAAC,CAAC,GAAGK,MAAM,CAACZ,CAAC,CAAC;MAChB,OAAOH,CAAC;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EACV;EAEA,OAAOK,OAAO,CAACY,MAAM,CAAC,mBAAmB,CAAC;AAC9C;AAAC,IAAAC,QAAA,GAEctB,WAAW;AAAAuB,OAAA,CAAAxB,OAAA,GAAAuB,QAAA;AAAAE,MAAA,CAAAD,OAAA,GAAAA,OAAA,CAAAxB,OAAA"}