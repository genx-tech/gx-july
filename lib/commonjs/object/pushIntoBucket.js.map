{"version":3,"sources":["pushIntoBucket.js"],"names":["pushIntoBucket","collection","key","value","flattenArray","bucket","Array","isArray","concat","push"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,cAAT,CAAwBC,UAAxB,EAAoCC,GAApC,EAAyCC,KAAzC,EAAgDC,YAAhD,EAA8D;AAC1D,MAAIC,MAAM,GAAG,mBAAKJ,UAAL,EAAiBC,GAAjB,CAAb;;AAEA,MAAII,KAAK,CAACC,OAAN,CAAcF,MAAd,CAAJ,EAA2B;AACvB,QAAIC,KAAK,CAACC,OAAN,CAAcJ,KAAd,KAAwBC,YAA5B,EAA0C;AACtCC,MAAAA,MAAM,GAAGA,MAAM,CAACG,MAAP,CAAcL,KAAd,CAAT;AACA,yBAAKF,UAAL,EAAiBC,GAAjB,EAAsBG,MAAtB;AACH,KAHD,MAGO;AACHA,MAAAA,MAAM,CAACI,IAAP,CAAYN,KAAZ;AACH;AACJ,GAPD,MAOO,IAAIE,MAAM,IAAI,IAAd,EAAoB;AACvBA,IAAAA,MAAM,GAAIC,KAAK,CAACC,OAAN,CAAcJ,KAAd,KAAwBC,YAAzB,GAAyCD,KAAK,CAACK,MAAN,EAAzC,GAA0D,CAAEL,KAAF,CAAnE;AACA,uBAAKF,UAAL,EAAiBC,GAAjB,EAAsBG,MAAtB;AACH,GAHM,MAGA;AACHA,IAAAA,MAAM,GAAIC,KAAK,CAACC,OAAN,CAAcJ,KAAd,KAAwBC,YAAzB,IAA2CC,MAA3C,4BAAsDF,KAAtD,KAAgE,CAAEE,MAAF,EAAUF,KAAV,CAAzE;AACA,uBAAKF,UAAL,EAAiBC,GAAjB,EAAsBG,MAAtB;AACH;;AAED,SAAOA,MAAP;AACH;;eAEcL,c","sourcesContent":["import _get from 'lodash/get';\nimport _set from 'lodash/set';\n\n/**\n * Push an value into an array element of a collection\n * @alias object.pushIntoBucket\n * @param {object} collection\n * @param {string} key\n * @param {object} value\n * @param {boolean} [flattenArray=false] - Whether to flatten the array, if the given value is an array.\n * @returns {*} The modified bucket\n */\nfunction pushIntoBucket(collection, key, value, flattenArray) {\n    let bucket = _get(collection, key);\n\n    if (Array.isArray(bucket)) {\n        if (Array.isArray(value) && flattenArray) {\n            bucket = bucket.concat(value);\n            _set(collection, key, bucket);\n        } else {\n            bucket.push(value);\n        }\n    } else if (bucket == null) {\n        bucket = (Array.isArray(value) && flattenArray) ? value.concat() : [ value ];\n        _set(collection, key, bucket);\n    } else {\n        bucket = (Array.isArray(value) && flattenArray) ? [ bucket, ...value ] : [ bucket, value ];\n        _set(collection, key, bucket);\n    }\n\n    return bucket;\n}\n\nexport default pushIntoBucket;"]}