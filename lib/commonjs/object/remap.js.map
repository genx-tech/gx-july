{"version":3,"names":["_each2","_interopRequireDefault","require","obj","__esModule","default","remap","object","mapping","keepUnmapped","newObj","_each","v","k","hasOwnProperty","nk","Array","isArray","_default","exports","module"],"sources":["remap.js"],"sourcesContent":["import _each from 'lodash/each';\n\n/**\n * Remap the keys of object elements in an array, like projection.\n * @alias object.remap\n * @param {*} object\n * @param {Object} mapping - key to newKey or key to array[ newKey, valueMap ] for next level mapping\n * @param {boolean} keepUnmapped - If true, will keep those not in mapping as its original key, otherwise filter out\n * @returns {Object} Remapped object\n */\nfunction remap(object, mapping, keepUnmapped) {\n    if (typeof mapping === 'string') return { [mapping]: object };\n\n    let newObj = {};\n    _each(object, (v, k) => {\n        /* eslint-disable no-prototype-builtins */\n        if (mapping.hasOwnProperty(k)) {\n            /* eslint-enable no-prototype-builtins */\n            let nk = mapping[k];\n            if (Array.isArray(nk)) {\n                newObj[nk[0]] = {\n                    ...newObj[nk[0]],\n                    ...remap(v, nk[1], keepUnmapped),\n                };\n            } else {\n                newObj[nk] = v;\n            }\n        } else {\n            if (keepUnmapped) {\n                newObj[k] = v;\n            }\n        }\n    });\n\n    return newObj;\n}\n\nexport default remap;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAUhC,SAASG,KAAKA,CAACC,MAAM,EAAEC,OAAO,EAAEC,YAAY,EAAE;EAC1C,IAAI,OAAOD,OAAO,KAAK,QAAQ,EAAE,OAAO;IAAE,CAACA,OAAO,GAAGD;EAAO,CAAC;EAE7D,IAAIG,MAAM,GAAG,CAAC,CAAC;EACf,IAAAC,cAAK,EAACJ,MAAM,EAAE,CAACK,CAAC,EAAEC,CAAC,KAAK;IAEpB,IAAIL,OAAO,CAACM,cAAc,CAACD,CAAC,CAAC,EAAE;MAE3B,IAAIE,EAAE,GAAGP,OAAO,CAACK,CAAC,CAAC;MACnB,IAAIG,KAAK,CAACC,OAAO,CAACF,EAAE,CAAC,EAAE;QACnBL,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG;UACZ,GAAGL,MAAM,CAACK,EAAE,CAAC,CAAC,CAAC,CAAC;UAChB,GAAGT,KAAK,CAACM,CAAC,EAAEG,EAAE,CAAC,CAAC,CAAC,EAAEN,YAAY;QACnC,CAAC;MACL,CAAC,MAAM;QACHC,MAAM,CAACK,EAAE,CAAC,GAAGH,CAAC;MAClB;IACJ,CAAC,MAAM;MACH,IAAIH,YAAY,EAAE;QACdC,MAAM,CAACG,CAAC,CAAC,GAAGD,CAAC;MACjB;IACJ;EACJ,CAAC,CAAC;EAEF,OAAOF,MAAM;AACjB;AAAC,IAAAQ,QAAA,GAEcZ,KAAK;AAAAa,OAAA,CAAAd,OAAA,GAAAa,QAAA;AAAAE,MAAA,CAAAD,OAAA,GAAAA,OAAA,CAAAd,OAAA"}