{"version":3,"sources":["urlAppendQuery.js"],"names":["appendQuery","url","query","posQM","indexOf","base","qs","split","previousObj","newObj","newQs"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,WAAT,CAAqBC,GAArB,EAA0BC,KAA1B,EAAiC;AAC7B,MAAI,CAACA,KAAL,EAAY;AACR,WAAOD,GAAP;AACH;;AAED,QAAME,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAY,GAAZ,CAAd;;AAEA,MAAID,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,QAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B;AAC3BA,MAAAA,KAAK,GAAG,qCAAoBA,KAApB,CAAR;AACH;;AAED,WAAOA,KAAK,GAAGD,GAAG,GAAG,GAAN,GAAYC,KAAf,GAAuBD,GAAnC;AACH;;AAED,QAAM,CAACI,IAAD,EAAOC,EAAP,IAAaL,GAAG,CAACM,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAnB;AACA,QAAMC,WAAW,GAAG,qCAAoBF,EAApB,CAApB;AACA,QAAMG,MAAM,GAAG,OAAOP,KAAP,KAAiB,QAAjB,GAA4B,qCAAoBA,KAApB,CAA5B,GAAyDA,KAAxE;AAEA,QAAMQ,KAAK,GAAG,qCAAoB,EAAE,GAAGF,WAAL;AAAkB,OAAGC;AAArB,GAApB,CAAd;AAEA,SAAOC,KAAK,GAAGL,IAAI,GAAG,GAAP,GAAaK,KAAhB,GAAwBT,GAApC;AACH;;eAEcD,W","sourcesContent":["import objectToQueryString from './urlObjectToQueryString';\nimport queryStringToObject from './urlQueryStringToObject';\n\n/**\n * Merge the query parameters into given url.\n * @function string.urlAppendQuery\n * @param {String} url - Original url.\n * @param {Object} query - Key-value pairs query object to be merged into the url.\n * @returns {String}\n */\nfunction appendQuery(url, query) {\n    if (!query) {\n        return url;\n    }\n\n    const posQM = url.indexOf('?');\n\n    if (posQM === -1) {\n        if (typeof query !== 'string') {\n            query = objectToQueryString(query);\n        }\n\n        return query ? url + '?' + query : url;\n    }\n\n    const [base, qs] = url.split('?', 2);\n    const previousObj = queryStringToObject(qs);\n    const newObj = typeof query === 'string' ? queryStringToObject(query) : query;\n\n    const newQs = objectToQueryString({ ...previousObj, ...newObj });\n\n    return newQs ? base + '?' + newQs : url;\n}\n\nexport default appendQuery;\n"]}