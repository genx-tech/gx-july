{"version":3,"names":["isPlainObject","batchAsync_","obj","iterator","Array","isArray","r","l","length","i","push","Promise","all","keys","values","k","Object","prototype","hasOwnProperty","call","result","reduce","reject"],"sources":["batchAsync_.js"],"sourcesContent":["import isPlainObject from '../object/isPlainObject';\n\n/**\n * Walk through each entry of an array of an object parallelly, faster than eachAsync_\n * @alias collection.batchAsync_\n * @async\n * @param {Array|Object} obj\n * @param {asyncIterator} iterator\n * @returns {Promise.<Array|Object>}\n */\nasync function batchAsync_(obj, iterator) {\n    if (Array.isArray(obj)) {\n        const r = [];\n\n        let l = obj.length;\n        for (let i = 0; i < l; i++) {\n            r.push(iterator(obj[i], i, obj));\n        }\n\n        return Promise.all(r);\n    } \n    \n    if (isPlainObject(obj)) {\n        const keys = [];\n        const values = [];\n\n        for (let k in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, k)) {\n                keys.push(k);\n                values.push(iterator(obj[k], k, obj));\n            }\n        }\n\n        const result = await Promise.all(values);\n        return keys.reduce((r, k, i) => {\n            r[k] = result[i];\n            return r;\n        }, {});\n    } \n\n    return Promise.reject('Invalid argument!');\n}\n\nexport default batchAsync_;\n"],"mappings":"AAAA,OAAOA,aAAa,MAAM,yBAAyB;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeC,WAAWA,CAACC,GAAG,EAAEC,QAAQ,EAAE;EACtC,IAAIC,KAAK,CAACC,OAAO,CAACH,GAAG,CAAC,EAAE;IACpB,MAAMI,CAAC,GAAG,EAAE;IAEZ,IAAIC,CAAC,GAAGL,GAAG,CAACM,MAAM;IAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,CAAC,EAAEE,CAAC,EAAE,EAAE;MACxBH,CAAC,CAACI,IAAI,CAACP,QAAQ,CAACD,GAAG,CAACO,CAAC,CAAC,EAAEA,CAAC,EAAEP,GAAG,CAAC,CAAC;IACpC;IAEA,OAAOS,OAAO,CAACC,GAAG,CAACN,CAAC,CAAC;EACzB;EAEA,IAAIN,aAAa,CAACE,GAAG,CAAC,EAAE;IACpB,MAAMW,IAAI,GAAG,EAAE;IACf,MAAMC,MAAM,GAAG,EAAE;IAEjB,KAAK,IAAIC,CAAC,IAAIb,GAAG,EAAE;MACf,IAAIc,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACjB,GAAG,EAAEa,CAAC,CAAC,EAAE;QAC9CF,IAAI,CAACH,IAAI,CAACK,CAAC,CAAC;QACZD,MAAM,CAACJ,IAAI,CAACP,QAAQ,CAACD,GAAG,CAACa,CAAC,CAAC,EAAEA,CAAC,EAAEb,GAAG,CAAC,CAAC;MACzC;IACJ;IAEA,MAAMkB,MAAM,GAAG,MAAMT,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;IACxC,OAAOD,IAAI,CAACQ,MAAM,CAAC,CAACf,CAAC,EAAES,CAAC,EAAEN,CAAC,KAAK;MAC5BH,CAAC,CAACS,CAAC,CAAC,GAAGK,MAAM,CAACX,CAAC,CAAC;MAChB,OAAOH,CAAC;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EACV;EAEA,OAAOK,OAAO,CAACW,MAAM,CAAC,mBAAmB,CAAC;AAC9C;AAEA,eAAerB,WAAW"}