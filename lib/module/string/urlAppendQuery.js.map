{"version":3,"sources":["urlAppendQuery.js"],"names":["objectToQueryString","queryStringToObject","appendQuery","url","query","posQM","indexOf","base","qs","split","previousObj","newObj","newQs"],"mappings":"AAAA,OAAOA,mBAAP,MAAgC,0BAAhC;AACA,OAAOC,mBAAP,MAAgC,0BAAhC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,WAAT,CAAqBC,GAArB,EAA0BC,KAA1B,EAAiC;AAC7B,MAAI,CAACA,KAAL,EAAY,OAAOD,GAAP;AAEZ,QAAME,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAY,GAAZ,CAAd;;AAEA,MAAID,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,QAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B;AAC3BA,MAAAA,KAAK,GAAGJ,mBAAmB,CAACI,KAAD,CAA3B;AACH;;AAED,WAAOA,KAAK,GAAGD,GAAG,GAAG,GAAN,GAAYC,KAAf,GAAuBD,GAAnC;AACH;;AAED,QAAM,CAACI,IAAD,EAAOC,EAAP,IAAaL,GAAG,CAACM,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAnB;AACA,QAAMC,WAAW,GAAGT,mBAAmB,CAACO,EAAD,CAAvC;AACA,QAAMG,MAAM,GACR,OAAOP,KAAP,KAAiB,QAAjB,GAA4BH,mBAAmB,CAACG,KAAD,CAA/C,GAAyDA,KAD7D;AAGA,QAAMQ,KAAK,GAAGZ,mBAAmB,CAAC,EAAE,GAAGU,WAAL;AAAkB,OAAGC;AAArB,GAAD,CAAjC;AAEA,SAAOC,KAAK,GAAGL,IAAI,GAAG,GAAP,GAAaK,KAAhB,GAAwBT,GAApC;AACH;;AAED,eAAeD,WAAf","sourcesContent":["import objectToQueryString from './urlObjectToQueryString';\nimport queryStringToObject from './urlQueryStringToObject';\n\n/**\n * Merge the query parameters into given url.\n * @function string.urlAppendQuery\n * @param {String} url - Original url.\n * @param {Object} query - Key-value pairs query object to be merged into the url.\n * @returns {String}\n */\nfunction appendQuery(url, query) {\n    if (!query) return url;\n\n    const posQM = url.indexOf('?');\n\n    if (posQM === -1) {\n        if (typeof query !== 'string') {\n            query = objectToQueryString(query);\n        }\n\n        return query ? url + '?' + query : url;\n    }\n\n    const [base, qs] = url.split('?', 2);\n    const previousObj = queryStringToObject(qs);\n    const newObj =\n        typeof query === 'string' ? queryStringToObject(query) : query;\n\n    const newQs = objectToQueryString({ ...previousObj, ...newObj });\n\n    return newQs ? base + '?' + newQs : url;\n}\n\nexport default appendQuery;\n"]}